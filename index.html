<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Macro Terminal | Revoro Alpha</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600;700&display=swap"
        rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { mono: ['"JetBrains Mono"'], sans: ['Inter'] },
                    colors: {
                        terminal: {
                            bg: '#020408',
                            card: '#0c0f16',
                            border: '#1e2633',
                            accent: '#00f2ff',
                            bullish: '#00ffa3',
                            bearish: '#ff2d55',
                            muted: '#6b7280'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #020408;
            color: #f3f4f6;
        }

        .glass {
            background: rgba(12, 15, 22, 0.4);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.03);
        }

        .shimmer {
            background: linear-gradient(90deg, transparent, rgba(0, 242, 255, 0.02), transparent);
            background-size: 200% 100%;
            animation: shimmer 8s infinite linear;
        }

        @keyframes shimmer {
            0% {
                background-position: -200% 0;
            }

            100% {
                background-position: 200% 0;
            }
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>

<body class="font-sans min-h-screen overflow-x-hidden selection:bg-terminal-accent selection:text-terminal-bg">
    <div class="fixed inset-0 shimmer pointer-events-none z-0"></div>

    <!-- Main Command Center -->
    <main class="relative z-10 max-w-[1600px] mx-auto p-4 lg:p-8 space-y-6">

        <!-- Institutional Header -->
        <header
            class="flex flex-col md:flex-row justify-between items-start md:items-center glass p-6 rounded-2xl border-white/5 space-y-4 md:space-y-0">
            <div>
                <div class="flex items-center space-x-3">
                    <img src="https://revoro.consulting/logo_light.svg" class="h-10 w-auto" alt="Revoro Logo">
                    <h1 class="text-2xl font-mono font-bold tracking-tighter text-white">GLOBAL MACRO TERMINAL <span
                            class="text-terminal-accent">v4.5</span></h1>
                </div>
                <p class="text-[10px] text-terminal-muted font-mono mt-1 tracking-[0.2em] uppercase">Quantitative Alpha
                    Selection // Systemic Risk Monitoring</p>
            </div>
            <div class="flex items-center space-x-8">
                <div class="text-right">
                    <p class="text-[10px] font-mono text-terminal-muted uppercase leading-none mb-1">Net Liquidity</p>
                    <p class="text-lg font-mono text-terminal-accent font-bold" id="nav-liq">--</p>
                </div>
                <div class="h-10 w-px bg-white/10 hidden md:block"></div>
                <div class="text-right">
                    <p class="text-[10px] font-mono text-terminal-muted uppercase leading-none mb-1">System Pulse</p>
                    <div class="flex items-center justify-end space-x-2">
                        <div class="w-1.5 h-1.5 bg-terminal-bullish rounded-full animate-pulse"></div>
                        <p class="text-sm font-mono text-white" id="nav-date">--</p>
                    </div>
                </div>
            </div>
        </header>

        <!-- Top Insights Tier -->
        <div class="grid grid-cols-1 xl:grid-cols-4 gap-6">
            <!-- Regime Score (Composite) -->
            <div
                class="xl:col-span-1 glass rounded-2xl p-6 flex flex-col items-center justify-center relative overflow-hidden group">
                <div class="absolute top-4 left-6 flex flex-col">
                    <span class="text-[10px] font-mono text-terminal-muted uppercase tracking-widest">Market
                        Regime</span>
                    <span class="text-xs font-mono text-terminal-accent">COMPOSITE ALPHA</span>
                </div>
                <div id="gauge" class="w-full mt-4"></div>
                <div class="text-center">
                    <p id="regime-label"
                        class="text-3xl font-mono font-bold tracking-widest text-white uppercase italic">ANALYZING</p>
                    <p class="text-[10px] font-mono text-terminal-muted mt-2 uppercase tracking-tighter">Weighted
                        Institutional Proxy</p>
                </div>
            </div>

            <!-- Risk Radar (6 pillars) -->
            <div class="xl:col-span-1 glass rounded-2xl p-6">
                <p class="text-[10px] font-mono text-terminal-muted uppercase tracking-widest mb-4">Strategic Radar</p>
                <div id="radar" class="h-64"></div>
            </div>

            <!-- Monetary & Systemic Conditions -->
            <div class="xl:col-span-2 glass rounded-2xl p-6">
                <div class="flex justify-between items-center mb-6">
                    <p class="text-[10px] font-mono text-terminal-muted uppercase tracking-widest">Decision Matrix:
                        Monetary & Systemic Plumbing</p>
                    <span
                        class="text-[10px] font-mono px-2 py-0.5 border border-terminal-accent/30 text-terminal-accent rounded">v4.5
                        INSTITUTIONAL FEED</span>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4" id="risk-matrix">
                    <!-- Dynamic Items (6 points) -->
                </div>
            </div>
        </div>

        <!-- Tier 2: Real-Time Momentum & Volatility -->
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-6">
            <!-- Economic Growth & Momentum Pulse -->
            <div class="xl:col-span-1 glass rounded-2xl p-6">
                <p class="text-[10px] font-mono text-terminal-muted uppercase tracking-widest mb-6">Growth & Momentum
                    Pulse</p>
                <div class="space-y-8">
                    <!-- Copper/Gold (Leading Growth) -->
                    <div>
                        <div class="flex items-end justify-between mb-2">
                            <div>
                                <p class="text-2xl font-mono font-bold text-white" id="cg-ratio-val">--</p>
                                <p class="text-[10px] font-mono text-terminal-accent uppercase">Copper/Gold Ratio</p>
                            </div>
                            <div class="text-right">
                                <p class="text-[10px] font-mono text-terminal-muted">Momentum</p>
                                <p class="text-lg font-mono" id="cg-mom-val">--</p>
                            </div>
                        </div>
                        <div class="h-1 w-full bg-white/5 rounded-full overflow-hidden">
                            <div id="cg-mom-bar" class="h-full bg-terminal-accent transition-all duration-1000"></div>
                        </div>
                    </div>

                    <!-- Tech/Staples (Equity Growth Proxy) -->
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-[10px] font-mono text-white">XLK / XLP Rotation</span>
                            <span id="rotation-val" class="text-[10px] font-mono">--</span>
                        </div>
                        <div class="h-1 w-full bg-white/5 rounded-full overflow-hidden">
                            <div id="rotation-bar" class="h-full bg-terminal-bullish transition-all duration-1000">
                            </div>
                        </div>
                    </div>

                    <!-- SPY Beta Momentum -->
                    <div>
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-[10px] font-mono text-white">S&P 500 (SPY) Momentum</span>
                            <span id="spy-mom-val" class="text-[10px] font-mono">--</span>
                        </div>
                        <div class="h-1 w-full bg-white/5 rounded-full overflow-hidden">
                            <div id="spy-mom-bar" class="h-full bg-terminal-accent transition-all duration-1000"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Alignment Matrix -->
            <div class="xl:col-span-2 glass rounded-2xl p-6 overflow-hidden">
                <p class="text-[10px] font-mono text-terminal-muted uppercase tracking-widest mb-6">Cross-Asset
                    Alignment (1M Correlation)</p>
                <div class="overflow-x-auto no-scrollbar">
                    <table class="w-full text-[11px] font-mono border-collapse" id="corr-matrix">
                        <!-- Dynamic -->
                    </table>
                </div>
            </div>
        </div>

        <!-- Tier 3: Macro Alignment & Systemic Velocity -->
        <div class="grid grid-cols-1 xl:grid-cols-3 gap-6">
            <div class="xl:col-span-3 glass rounded-2xl p-6">
                <div class="flex justify-between items-center mb-6">
                    <p class="text-[10px] font-mono text-terminal-muted uppercase tracking-widest">Market Velocity &
                        Sequence (21D Momentum)</p>
                    <div class="flex space-x-4">
                        <div class="flex items-center space-x-1">
                            <div class="w-2 h-2 bg-terminal-bullish rounded-full"></div>
                            <span class="text-[10px] font-mono text-terminal-muted">BULLISH VELOCITY</span>
                        </div>
                    </div>
                </div>
                <div id="momentum-chart" class="h-72"></div>
            </div>
        </div>

        <!-- Footer -->
        <footer
            class="flex flex-col md:row justify-between items-center glass p-6 rounded-2xl border-white/5 space-y-4 md:space-y-0">
            <p class="text-[10px] font-mono text-terminal-muted uppercase tracking-[0.2em] italic">Proprietary Alpha
                Discovery // Not Financial Advice</p>
            <div class="flex items-center space-x-6">
                <p class="text-[10px] font-mono text-terminal-muted">LICENSE: INSTITUTIONAL-FREE-TIER</p>
                <a href="https://calendly.com/chrisberlin/session" target="_blank"
                    class="px-6 py-2 bg-terminal-accent/10 border border-terminal-accent/30 text-terminal-accent font-mono text-[10px] uppercase tracking-widest rounded-lg hover:bg-terminal-accent/20 transition-all">Strategic
                    Session â†’</a>
            </div>
        </footer>
    </main>

    <script id="macro-data">
        const DATA = { "composite": 0.2297, "components": { "Liquidity": 0.5, "Credit": 0.8, "Monetary": 0.7, "Growth": 0.3, "Appetite": -0.1, "Sentiment": 0.5 }, "raw": { "fred": { "yield_10y3m": 0.39, "real_yield": 1.89, "hy_spread": 3.2, "nfci": -0.5, "stress_index": 0.2, "inflation": 3.1, "fed_funds": 5.33, "net_liquidity": 6.5e12 }, "market": { "momentum": { "SPY": 0.02, "GLD": 0.01, "HG=F": 0.01, "DX-Y.NYB": 0.01, "XLK": 0.03, "XLP": 0.01, "TLT": -0.01 }, "cg_ratio": 0.0125, "cg_momentum": -0.11, "rotation_raw": -0.10, "tlt_vol": 15.0, "correlation": {} } } };

        document.getElementById('nav-date').innerText = new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
        document.getElementById('nav-liq').innerText = `$${(DATA.raw.fred.net_liquidity / 1e12).toFixed(2)}T`;

        const score = DATA.composite;
        const color = score > 0.2 ? '#00ffa3' : (score < -0.2 ? '#ff2d55' : '#6b7280');
        const text = score > 0.3 ? 'HEAVY BULLISH' : (score > 0.1 ? 'SOFT BULLISH' : (score < -0.3 ? 'HEAVY BEARISH' : (score < -0.1 ? 'SOFT BEARISH' : 'TRANSITION')));

        document.getElementById('regime-label').innerText = text;
        document.getElementById('regime-label').style.color = color;

        // --- GAUGE ---
        new ApexCharts(document.querySelector("#gauge"), {
            series: [((score + 1) / 2) * 100],
            chart: { height: 280, type: 'radialBar', sparkline: { enabled: true } },
            plotOptions: {
                radialBar: {
                    startAngle: -110, endAngle: 110,
                    hollow: { size: '65%' },
                    track: { background: "#161b24", strokeWidth: '100%' },
                    dataLabels: {
                        name: { show: false },
                        value: { offsetY: 5, fontSize: '32px', fontWeight: 'bold', color: '#fff', fontFamily: 'Inter', formatter: () => score.toFixed(2) }
                    }
                }
            },
            fill: { type: 'gradient', gradient: { shade: 'dark', type: 'horizontal', gradientToColors: [color], stops: [0, 100] } },
            stroke: { lineCap: 'butt' },
            tooltip: { enabled: true, theme: 'dark' }
        }).render();

        // --- RADAR ---
        new ApexCharts(document.querySelector("#radar"), {
            series: [{ name: 'Factor Impact', data: Object.values(DATA.components).map(v => Math.max(0, (v + 1) / 2 * 100)) }],
            chart: { height: 280, type: 'radar', toolbar: { show: false } },
            plotOptions: {
                radar: {
                    size: 85,
                    polygons: { strokeColors: '#1e2633', fill: { colors: ['transparent'] } }
                }
            },
            xaxis: { categories: Object.keys(DATA.components), labels: { style: { colors: '#6b7280', fontSize: '10px', fontFamily: 'JetBrains Mono' } } },
            yaxis: { show: false, min: 0, max: 100 },
            colors: ['#00f2ff'],
            fill: { opacity: 0.2 },
            markers: { size: 3, colors: ['#00f2ff'], strokeWidth: 0 },
            grid: { padding: { left: 10, right: 10 } },
            tooltip: { theme: 'dark' }
        }).render();

        // --- RISK MATRIX (Systemic Plumbing) ---
        const fred = DATA.raw.fred;
        const matrixItems = [
            { l: 'HY Credit Spread', v: fred.hy_spread.toFixed(2) + '%', d: 'BAML OAS vs Treasuries', s: fred.hy_spread < 4.5 ? 1 : -1 },
            { l: 'Monetary Index (NFCI)', v: fred.nfci.toFixed(2), d: 'Chicago Fed Conditions', s: fred.nfci < 0 ? 1 : -1 },
            { l: '10Y - 3M Yield Spread', v: fred.yield_10y3m.toFixed(2) + '%', d: 'Recession Signal', s: fred.yield_10y3m > 0 ? 1 : -1 },
            { l: 'Fed Stress Index', v: fred.stress_index.toFixed(2), d: 'St. Louis Fed Risk Proxy', s: fred.stress_index < 0 ? 1 : -1 },
            { l: 'MOVE (Bond Vol)', v: DATA.raw.market.tlt_vol.toFixed(1) + '%', d: 'MOVE Index Proxy (TLV)', s: DATA.raw.market.tlt_vol < 18 ? 1 : -1 },
            { l: 'Real Yield (10Y)', v: fred.real_yield.toFixed(2) + '%', d: 'Fed Policy Restrictiveness', s: fred.real_yield < 2.5 ? 0 : -1 }
        ];

        document.getElementById('risk-matrix').innerHTML = matrixItems.map(item => `
            <div class="p-4 rounded-xl border border-white/5 bg-white/[0.02] flex items-center justify-between group">
                <div>
                    <p class="text-[10px] font-mono text-terminal-muted uppercase">${item.l}</p>
                    <p class="text-[9px] font-mono text-terminal-muted italic">${item.d}</p>
                </div>
                <div class="text-right">
                    <p class="text-xl font-mono font-bold ${item.s > 0 ? 'text-terminal-bullish' : (item.s < 0 ? 'text-terminal-bearish' : 'text-white')}">${item.v}</p>
                </div>
            </div>
        `).join('');

        // --- GROWTH & MOMENTUM PULSE ---
        const rawMkt = DATA.raw.market;

        // Copper/Gold
        document.getElementById('cg-ratio-val').innerText = rawMkt.cg_ratio.toFixed(4);
        const cgMomRaw = rawMkt.cg_momentum * 100;
        document.getElementById('cg-mom-val').innerText = (cgMomRaw > 0 ? '+' : '') + cgMomRaw.toFixed(2) + '%';
        document.getElementById('cg-mom-val').className = `text-lg font-mono ${cgMomRaw > 0 ? 'text-terminal-bullish' : 'text-terminal-bearish'}`;
        document.getElementById('cg-mom-bar').style.width = Math.min(100, Math.max(0, (cgMomRaw + 10) / 20 * 100)) + '%';

        // Equity Rotation
        const rotVal = rawMkt.rotation_raw * 100;
        document.getElementById('rotation-val').innerText = (rotVal > 0 ? '+' : '') + rotVal.toFixed(2) + '%';
        document.getElementById('rotation-val').className = `text-[10px] font-mono font-bold ${rotVal > 0 ? 'text-terminal-bullish' : 'text-terminal-bearish'}`;
        document.getElementById('rotation-bar').style.width = Math.min(100, Math.max(0, (rotVal + 10) / 20 * 100)) + '%';

        // SPY Momentum
        const spyMom = (rawMkt.momentum['SPY'] || 0) * 100;
        document.getElementById('spy-mom-val').innerText = (spyMom > 0 ? '+' : '') + spyMom.toFixed(2) + '%';
        document.getElementById('spy-mom-val').className = `text-[10px] font-mono font-bold ${spyMom > 0 ? 'text-terminal-bullish' : 'text-terminal-bearish'}`;
        document.getElementById('spy-mom-bar').style.width = Math.min(100, Math.max(0, (spyMom + 5) / 10 * 100)) + '%';

        // --- MOMENTUM CHART ---
        const momData = rawMkt.momentum;
        new ApexCharts(document.querySelector("#momentum-chart"), {
            series: [{ name: '21D Return', data: Object.values(momData).map(v => (v * 100).toFixed(2)) }],
            chart: { type: 'bar', height: 280, toolbar: { show: false }, background: 'transparent' },
            plotOptions: {
                bar: {
                    borderRadius: 6,
                    distributed: true,
                    dataLabels: { position: 'top' }
                }
            },
            colors: Object.values(momData).map(v => v >= 0 ? '#00ffa3' : '#ff2d55'),
            xaxis: { categories: Object.keys(momData), labels: { style: { colors: '#6b7280', fontFamily: 'JetBrains Mono', fontSize: '10px' } } },
            yaxis: { labels: { formatter: (v) => v + '%', style: { colors: '#6b7280', fontSize: '10px' } } },
            dataLabels: {
                enabled: true,
                formatter: (v) => v + '%',
                style: {
                    fontSize: '10px',
                    fontFamily: 'JetBrains Mono',
                    colors: ['#fff']
                },
                offsetY: -20,
                background: {
                    enabled: true,
                    foreColor: '#fff',
                    padding: 4,
                    borderRadius: 2,
                    borderWidth: 0,
                    backgroundColor: '#0c0f16',
                    opacity: 1,
                    dropShadow: { enabled: false }
                }
            },
            grid: { borderColor: '#1e2633', strokeDashArray: 4 },
            tooltip: { theme: 'dark' }
        }).render();

        // --- CORRELATION MATRIX ---
        const assets = Object.keys(momData);
        const corel = rawMkt.correlation;
        const matrixEl = document.getElementById('corr-matrix');
        if (assets.length > 0 && corel['SPY']) {
            let html = '<thead><tr class="text-terminal-muted border-b border-white/5"><th class="p-3 text-left">ASSET</th>' + assets.map(a => `<th class="p-3 text-center">${a}</th>`).join('') + '</tr></thead><tbody>';
            assets.forEach(r => {
                html += `<tr class="border-b border-white/5"><td class="p-3 font-bold text-white uppercase">${r}</td>`;
                assets.forEach(c => {
                    const v = (corel[r] && corel[r][c] !== undefined) ? corel[r][c] : 0;
                    const intensity = Math.abs(v);
                    const color = v > 0.5 ? `rgba(0, 255, 163, ${intensity * 0.2})` : (v < -0.5 ? `rgba(255, 45, 85, ${intensity * 0.2})` : 'transparent');
                    html += `<td class="p-3 text-center border-l border-white/5" style="background: ${color}">${v.toFixed(2)}</td>`;
                });
                html += '</tr>';
            });
            matrixEl.innerHTML = html + '</tbody>';
        }
    </script>
</body>

</html>